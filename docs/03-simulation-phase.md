# 03 - –§–∞–∑–∞ —Å–∏–º—É–ª—è—Ü–∏–∏

## –ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ

–§–∞–∑–∞ —Å–∏–º—É–ª—è—Ü–∏–∏ –≤–æ—Å–ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç –ø–ª–∞–Ω –¥–Ω—è –≤–æ –≤—Ä–µ–º–µ–Ω–∏, –º–æ–¥–µ–ª–∏—Ä—É—è —Ä–∞–±–æ—Ç—É –º–µ—Ç–∞–±–æ–ª–∏—á–µ—Å–∫–æ–π —Å–∏—Å—Ç–µ–º—ã. –ò–≥—Ä–æ–∫ –Ω–∞–±–ª—é–¥–∞–µ—Ç –∑–∞ –ø—Ä–æ—Ü–µ—Å—Å–æ–º –∏ –º–æ–∂–µ—Ç –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–Ω–æ –≤–º–µ—à–∏–≤–∞—Ç—å—Å—è.

---

## –ö–ª—é—á–µ–≤—ã–µ –ø—Ä–∞–≤–∏–ª–∞ (—Å–æ–≥–ª–∞—Å–æ–≤–∞–Ω—ã)

### –†–∞–∑–≥—Ä—É–∑–∫–∞ –∫–æ—Ä–∞–±–ª–µ–π
- **–ü–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω–æ**: –∫–æ—Ä–∞–±–ª–∏ —Ä–∞–∑–≥—Ä—É–∂–∞—é—Ç—Å—è –ø–æ –æ—á–µ—Ä–µ–¥–∏, —Å–ª–µ–≤–∞ –Ω–∞–ø—Ä–∞–≤–æ
- **–†–∞–≤–Ω–æ–º–µ—Ä–Ω–æ**: –≥—Ä—É–∑ –≤—ã–≥—Ä—É–∂–∞–µ—Ç—Å—è —Ä–∞–≤–Ω—ã–º–∏ –ø–æ—Ä—Ü–∏—è–º–∏ –∫–∞–∂–¥—ã–π —á–∞—Å
- **–†–∞–∑–º–µ—Ä ‚â† –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –≥—Ä—É–∑–∞**: —Ä–∞–∑–º–µ—Ä –æ–ø—Ä–µ–¥–µ–ª—è–µ—Ç —Ç–æ–ª—å–∫–æ —Å–ª–æ—Ç—ã –∏ –≤—Ä–µ–º—è —Ä–∞–∑–≥—Ä—É–∑–∫–∏
- **–°–∫–æ—Ä–æ—Å—Ç—å = load / hours**: –Ω–∞–ø—Ä–∏–º–µ—Ä, –∫–æ—Ä–∞–±–ª—å L —Å 45g ‚Üí 45/3 = 15g/—á–∞—Å
- **–í Liver**: –≥–ª—é–∫–æ–∑–∞ –∏–¥—ë—Ç –≤ –±—É—Ñ–µ—Ä –ø–µ—á–µ–Ω–∏, –Ω–µ –Ω–∞–ø—Ä—è–º—É—é –≤ BG

### –ü–æ—Ç–æ–∫ –≥–ª—é–∫–æ–∑—ã
```
Ship ‚Üí Liver (buffer) ‚Üí BG (blood) ‚Üí Muscles (utilization)
```
**–ü—Ä–∏–º–µ—á–∞–Ω–∏–µ:** Kidney –∏—Å–∫–ª—é—á—ë–Ω –Ω–∞ –¥–∞–Ω–Ω–æ–º —ç—Ç–∞–ø–µ

### Timing —Ä—è–¥–æ–≤ –∏ —Å–µ–≥–º–µ–Ω—Ç–æ–≤
```
–°—Ç—Ä—É–∫—Ç—É—Ä–∞ –¥–Ω—è (18 —á–∞—Å–æ–≤, —Å–∫–≤–æ–∑–Ω–∞—è –Ω—É–º–µ—Ä–∞—Ü–∏—è —Å–ª–æ—Ç–æ–≤ 1-18):
‚îú‚îÄ‚îÄ Morning (6—á)
‚îÇ   ‚îú‚îÄ‚îÄ Row 1: —á–∞—Å—ã 1-3 (—Å–ª–æ—Ç—ã 1,2,3)
‚îÇ   ‚îî‚îÄ‚îÄ Row 2: —á–∞—Å—ã 4-6 (—Å–ª–æ—Ç—ã 4,5,6)
‚îú‚îÄ‚îÄ Day (6—á)
‚îÇ   ‚îú‚îÄ‚îÄ Row 3: —á–∞—Å—ã 7-9 (—Å–ª–æ—Ç—ã 7,8,9)
‚îÇ   ‚îî‚îÄ‚îÄ Row 4: —á–∞—Å—ã 10-12 (—Å–ª–æ—Ç—ã 10,11,12)
‚îî‚îÄ‚îÄ Evening (6—á)
    ‚îú‚îÄ‚îÄ Row 5: —á–∞—Å—ã 13-15 (—Å–ª–æ—Ç—ã 13,14,15)
    ‚îî‚îÄ‚îÄ Row 6: —á–∞—Å—ã 16-18 (—Å–ª–æ—Ç—ã 16,17,18)
```

**–í–∞–∂–Ω–æ:**
- **–†—è–¥ –≤—Å–µ–≥–¥–∞ = 3 —á–∞—Å–∞** (–Ω–µ–∑–∞–≤–∏—Å–∏–º–æ –æ—Ç –∑–∞–ø–æ–ª–Ω–µ–Ω–∏—è)
- –ö–æ—Ä–∞–±–ª–∏ –≤—ã–ø–æ–ª–Ω—è—é—Ç—Å—è –ø–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω–æ –≤–Ω—É—Ç—Ä–∏ —Ä—è–¥–∞
- –ü—É—Å—Ç–æ–π —Ä—è–¥ = 3 —á–∞—Å–∞ –±–µ–∑ –µ–¥—ã/–∏–Ω—Ç–µ—Ä–≤–µ–Ω—Ü–∏–π
- –°–º–µ–Ω–∞ —Ä—è–¥–∞ –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç –ø–æ—Å–ª–µ 3 —á–∞—Å–æ–≤ (–∫–æ–≥–¥–∞ –≤—Å–µ –∫–æ—Ä–∞–±–ª–∏ —Ä—è–¥–∞ –∑–∞–≤–µ—Ä—à–µ–Ω—ã)

### –ö–æ–Ω—Ç—Ä–æ–ª—ã
- **–£—Å–∫–æ—Ä–µ–Ω–∏–µ —Å–∏–º—É–ª—è—Ü–∏–∏** ‚Äî 1x/2x/4x —Å–∫–æ—Ä–æ—Å—Ç—å (–Ω–µ—Ç –∫–Ω–æ–ø–∫–∏ "–ø—Ä–æ–ø—É—Å—Ç–∏—Ç—å –¥–æ –∫–æ–Ω—Ü–∞")
- **–ê–Ω–∏–º–∞—Ü–∏—è –ø–æ—Ç–æ–∫–∞** ‚Äî –≤–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏—è –¥–≤–∏–∂–µ–Ω–∏—è –≥–ª—é–∫–æ–∑—ã –º–µ–∂–¥—É –æ—Ä–≥–∞–Ω–∞–º–∏


---

## UI Layout

```
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ                         HEADER                                   ‚îÇ
‚îÇ  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê   ‚îÇ
‚îÇ  ‚îÇ Hour: 09:00 ‚îÇ  ‚îÇ Morning ‚ñà‚ñà‚ñà‚ñà‚ñë‚ñë‚ñë‚ñë‚ñë ‚îÇ  ‚îÇ [‚è∏][1x][2x][4x] ‚îÇ   ‚îÇ
‚îÇ  ‚îÇ Day 1       ‚îÇ  ‚îÇ Progress: 3/18h   ‚îÇ  ‚îÇ                  ‚îÇ   ‚îÇ
‚îÇ  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò   ‚îÇ
‚îú‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î§
‚îÇ                                                                  ‚îÇ
‚îÇ                     BODY DIAGRAM                                 ‚îÇ
‚îÇ                                                                  ‚îÇ
‚îÇ          ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê            ‚îÇ
‚îÇ          ‚îÇ              KIDNEY                      ‚îÇ            ‚îÇ
‚îÇ          ‚îÇ            ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê                     ‚îÇ            ‚îÇ
‚îÇ          ‚îÇ            ‚îÇ‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚îÇ 15/60               ‚îÇ            ‚îÇ
‚îÇ          ‚îÇ            ‚îÇ‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚îÇ                     ‚îÇ            ‚îÇ
‚îÇ          ‚îÇ            ‚îî‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îò                     ‚îÇ            ‚îÇ
‚îÇ          ‚îÇ                ‚îÇ excrete                 ‚îÇ            ‚îÇ
‚îÇ          ‚îÇ                ‚ñº                         ‚îÇ            ‚îÇ
‚îÇ          ‚îÇ  LIVER     ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê                 ‚îÇ            ‚îÇ
‚îÇ          ‚îÇ ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê  ‚îÇ           ‚îÇ                 ‚îÇ            ‚îÇ
‚îÇ          ‚îÇ ‚îÇ‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚îÇ  ‚îÇ  BG: 147  ‚îÇ  ‚óÑ‚îÄ‚îÄ Central   ‚îÇ            ‚îÇ
‚îÇ          ‚îÇ ‚îÇ‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚îÇ‚îÄ‚îÄ‚îÇ  ‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà ‚îÇ      container  ‚îÇ            ‚îÇ
‚îÇ          ‚îÇ ‚îÇ‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚îÇ  ‚îÇ  ‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà ‚îÇ                 ‚îÇ            ‚îÇ
‚îÇ          ‚îÇ ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò  ‚îÇ           ‚îÇ                 ‚îÇ            ‚îÇ
‚îÇ          ‚îÇ   45/100   ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò                 ‚îÇ            ‚îÇ
‚îÇ          ‚îÇ                  ‚îÇ                       ‚îÇ            ‚îÇ
‚îÇ          ‚îÇ          ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¥‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê               ‚îÇ            ‚îÇ
‚îÇ          ‚îÇ          ‚îÇ               ‚îÇ               ‚îÇ            ‚îÇ
‚îÇ          ‚îÇ     ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚ñº‚îÄ‚îÄ‚îÄ‚îÄ‚îê    ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚ñº‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê        ‚îÇ            ‚îÇ
‚îÇ          ‚îÇ     ‚îÇ PANCREAS‚îÇ    ‚îÇ  MUSCLES  ‚îÇ        ‚îÇ            ‚îÇ
‚îÇ          ‚îÇ     ‚îÇ  ‚óâ‚óâ‚óâ‚óã‚óã  ‚îÇ    ‚îÇ  drain 50 ‚îÇ        ‚îÇ            ‚îÇ
‚îÇ          ‚îÇ     ‚îÇ fatigue ‚îÇ    ‚îÇ  /hour    ‚îÇ        ‚îÇ            ‚îÇ
‚îÇ          ‚îÇ     ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò    ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò        ‚îÇ            ‚îÇ
‚îÇ          ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò            ‚îÇ
‚îÇ                                                                  ‚îÇ
‚îú‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î§
‚îÇ                      SHIP QUEUE                                  ‚îÇ
‚îÇ  Morning:                                                        ‚îÇ
‚îÇ  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê                                  ‚îÇ
‚îÇ  ‚îÇ ü•£  ‚îÇ ‚îÇ    üçé     ‚îÇ ‚îÇ     ‚îÇ  Row 1 (current)                 ‚îÇ
‚îÇ  ‚îÇ‚ñì‚ñì‚ñì‚ñë‚ñë‚îÇ ‚îÇ           ‚îÇ ‚îÇ     ‚îÇ                                  ‚îÇ
‚îÇ  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò                                  ‚îÇ
‚îÇ  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê                                        ‚îÇ
‚îÇ  ‚îÇ üíä  ‚îÇ ‚îÇ     ‚îÇ ‚îÇ     ‚îÇ        Row 2 (waiting)                 ‚îÇ
‚îÇ  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò                                        ‚îÇ
‚îú‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î§
‚îÇ                    PLAYER CONTROLS                               ‚îÇ
‚îÇ  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê               ‚îÇ
‚îÇ  ‚îÇ üî• Boost Liver      ‚îÇ  ‚îÇ üí™ Boost Muscles    ‚îÇ               ‚îÇ
‚îÇ  ‚îÇ Charges: 2/3        ‚îÇ  ‚îÇ Charges: 1/2        ‚îÇ               ‚îÇ
‚îÇ  ‚îÇ [‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñë‚ñë] ready  ‚îÇ  ‚îÇ [‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë] 2:30   ‚îÇ               ‚îÇ
‚îÇ  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò               ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
```

**–ü—Ä–∏–º–µ—á–∞–Ω–∏–µ –ø–æ Body Diagram (v0.20.0+):**
- Layout: absolute positioning (was CSS Grid 6√ó6)
- –û—Ä–≥–∞–Ω—ã –ø–æ —É–≥–ª–∞–º: K (top-left), M (top-right), L (bottom-left), P (bottom-right)
- BG –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä –≤ —Ü–µ–Ω—Ç—Ä–µ, pill-shape, –ø–æ–ª–Ω–∞—è –≤—ã—Å–æ—Ç–∞
- KC/LC –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä—ã –Ω–∞–ø–æ–ª–æ–≤–∏–Ω—É –∑–∞ –ø–æ–¥–ª–æ–∂–∫–∞–º–∏ K/L
- –ü–æ–¥–ª–æ–∂–∫–∏: 80√ó110px, #545F73, pulse –ø—Ä–∏ –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç–∏
- Tier circles —Å–≤–µ—Ä—Ö—É –¥–ª—è –≤—Å–µ—Ö –æ—Ä–≥–∞–Ω–æ–≤
- –¶–≤–µ—Ç–∞ –∫—Ä—É–≥–æ–≤: –∂—ë–ª—Ç—ã–µ (–ü–ñ/–º—ã—à—Ü—ã), –∑–µ–ª—ë–Ω—ã–µ (–ø–µ—á–µ–Ω—å/–ø–æ—á–∫–∏)
- –î–µ–≥—Ä–∞–¥–∞—Ü–∏—è –æ—Ç–æ–±—Ä–∞–∂–∞–µ—Ç—Å—è —Å –ø—Ä–∞–≤–æ–≥–æ –∫—Ä–∞—è (–∫–∞–∫ –≤ Results)

---

## –î–≤–∏–∂–æ–∫ —Å–∏–º—É–ª—è—Ü–∏–∏

### –û—Å–Ω–æ–≤–Ω—ã–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã

```typescript
interface SimulationConfig {
  ticksPerSegment: 6;        // 6 —á–∞—Å–æ–≤ –Ω–∞ —Å–µ–≥–º–µ–Ω—Ç
  totalTicks: 18;            // 18 —á–∞—Å–æ–≤ –Ω–∞ –¥–µ–Ω—å
  tickDurationMs: 1000;      // –†–µ–∞–ª—å–Ω–æ–µ –≤—Ä–µ–º—è –º–µ–∂–¥—É —Ç–∏–∫–∞–º–∏ (–ø—Ä–∏ 1x)
}
```

### SimulationState

```typescript
interface SimulationState {
  // –í—Ä–µ–º—è
  currentTick: number;       // 0-17
  currentSegment: DaySegment;
  currentHour: number;       // 6-23 (–∏–≥—Ä–æ–≤–æ–µ –≤—Ä–µ–º—è)

  // –ö–æ–Ω—Ç–µ–π–Ω–µ—Ä—ã
  containers: {
    liver: ContainerState;
    bg: ContainerState;
    kidney: ContainerState;
    metforminEffect: ContainerState;
    exerciseEffect: ContainerState;
  };

  // –ö–æ—Ä–∞–±–ª–∏
  shipQueue: QueuedShip[];   // –û—Å—Ç–∞–≤—à–∏–µ—Å—è –∫–æ—Ä–∞–±–ª–∏
  unloadingShips: UnloadingShip[];  // –¢–µ–∫—É—â–∏–µ —Ä–∞–∑–≥—Ä—É–∑–∫–∏

  // –ò—Å—Ç–æ—Ä–∏—è –¥–ª—è –≥—Ä–∞—Ñ–∏–∫–∞
  bgHistory: number[];       // BG –Ω–∞ –∫–∞–∂–¥–æ–º —Ç–∏–∫–µ

  // –ö–æ–Ω—Ç—Ä–æ–ª—ã
  isRunning: boolean;
  isPaused: boolean;
  speed: 1 | 2 | 4;

  // –í–º–µ—à–∞—Ç–µ–ª—å—Å—Ç–≤–∞ –∏–≥—Ä–æ–∫–∞
  interventions: {
    liverBoost: InterventionState;
    pancreasBoost: InterventionState;
  };
}

interface ContainerState {
  level: number;
  capacity: number;
  decayRate?: number;
}

interface QueuedShip {
  instanceId: string;
  shipId: string;
  segment: DaySegment;
  row: 0 | 1;
  startSlot: number;
}

interface UnloadingShip {
  instanceId: string;
  shipId: string;
  remainingTicks: number;
  totalTicks: number;
  loadPerTick: number;
}

interface InterventionState {
  charges: number;
  maxCharges: number;
  cooldownTicks: number;    // 0 = –≥–æ—Ç–æ–≤–æ
  cooldownMax: number;
  isActive: boolean;
  activeDurationTicks: number;
}
```

---

## Simulation Engine

### –ö–ª–∞—Å—Å SimulationEngine

```typescript
class SimulationEngine {
  private state: SimulationState;
  private config: SimulationConfig;
  private organConfig: OrganConfig;
  private rules: Rule[];

  constructor(
    placedShips: PlacedShip[],
    organConfig: OrganConfig,
    rules: Rule[],
    initialDegradation: DegradationState
  ) {
    this.state = this.initializeState(placedShips, initialDegradation);
    // ...
  }

  tick(): SimulationState {
    // 1. –û–±—Ä–∞–±–æ—Ç–∫–∞ —Ä–∞–∑–≥—Ä—É–∑–∫–∏ –∫–æ—Ä–∞–±–ª–µ–π
    this.processShipUnloading();

    // 2. –ü—Ä–æ–≤–µ—Ä–∫–∞ –Ω–æ–≤—ã—Ö –∫–æ—Ä–∞–±–ª–µ–π –≤ –æ—á–µ—Ä–µ–¥–∏
    this.checkShipQueue();

    // 3. Decay —ç—Ñ—Ñ–µ–∫—Ç-–∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–æ–≤
    this.processEffectDecay();

    // 4. –û–±—Ä–∞–±–æ—Ç–∫–∞ –ø—Ä–∞–≤–∏–ª –æ—Ä–≥–∞–Ω–æ–≤
    this.processOrganRules();

    // 5. –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –∫—É–ª–¥–∞—É–Ω–æ–≤ –≤–º–µ—à–∞—Ç–µ–ª—å—Å—Ç–≤
    this.updateInterventionCooldowns();

    // 6. –ó–∞–ø–∏—Å—å –∏—Å—Ç–æ—Ä–∏–∏
    this.state.bgHistory.push(this.state.containers.bg.level);

    // 7. –ò–Ω–∫—Ä–µ–º–µ–Ω—Ç –≤—Ä–µ–º–µ–Ω–∏
    this.state.currentTick++;
    this.updateTimeInfo();

    return this.state;
  }

  // –í–º–µ—à–∞—Ç–µ–ª—å—Å—Ç–≤–∞ –∏–≥—Ä–æ–∫–∞
  activateLiverBoost(): boolean { /* ... */ }
  activatePancreasBoost(): boolean { /* ... */ }

  // –ì–µ—Ç—Ç–µ—Ä—ã
  getState(): SimulationState { return this.state; }
  isComplete(): boolean { return this.state.currentTick >= 18; }
}
```

### –ü–æ—Ä—è–¥–æ–∫ –æ–±—Ä–∞–±–æ—Ç–∫–∏ –∑–∞ —Ç–∏–∫

```
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ                      TICK START                          ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
                          ‚îÇ
                          ‚ñº
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ 1. SHIP UNLOADING                                        ‚îÇ
‚îÇ    - –ê–∫—Ç–∏–≤–Ω—ã–µ –∫–æ—Ä–∞–±–ª–∏ –≤—ã–≥—Ä—É–∂–∞—é—Ç load –≤ target container ‚îÇ
‚îÇ    - –£–º–µ–Ω—å—à–∞–µ—Ç—Å—è remainingTicks                          ‚îÇ
‚îÇ    - –ó–∞–≤–µ—Ä—à—ë–Ω–Ω—ã–µ –∫–æ—Ä–∞–±–ª–∏ —É–¥–∞–ª—è—é—Ç—Å—è                       ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
                          ‚îÇ
                          ‚ñº
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ 2. SHIP QUEUE CHECK                                      ‚îÇ
‚îÇ    - –ï—Å–ª–∏ –≤–µ—Ä—Ö–Ω–∏–π —Ä—è–¥ —Å–µ–≥–º–µ–Ω—Ç–∞ –ø—É—Å—Ç, –∞–∫—Ç–∏–≤–∏—Ä—É–µ–º –∫–æ—Ä–∞–±–ª–∏ ‚îÇ
‚îÇ    - –ï—Å–ª–∏ —Å–µ–≥–º–µ–Ω—Ç –∑–∞–≤–µ—Ä—à—ë–Ω, –ø–µ—Ä–µ—Ö–æ–¥ –∫ —Å–ª–µ–¥—É—é—â–µ–º—É        ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
                          ‚îÇ
                          ‚ñº
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ 3. EFFECT DECAY                                          ‚îÇ
‚îÇ    - metforminEffect -= decayRate                        ‚îÇ
‚îÇ    - exerciseEffect -= decayRate                         ‚îÇ
‚îÇ    - Clamp to 0                                          ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
                          ‚îÇ
                          ‚ñº
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ 4. ORGAN RULES                                           ‚îÇ
‚îÇ    a. LIVER ‚Üí BG transfer                                ‚îÇ
‚îÇ       - –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –ø—Ä–∞–≤–∏–ª–∞ liver                          ‚îÇ
‚îÇ       - –ü–µ—Ä–µ–¥–∞—Ç—å –≥–ª—é–∫–æ–∑—É –≤ BG                            ‚îÇ
‚îÇ                                                          ‚îÇ
‚îÇ    b. PANCREAS ‚Üí MUSCLES                                 ‚îÇ
‚îÇ       - –û–ø—Ä–µ–¥–µ–ª–∏—Ç—å rate tier –ø–æ BG level                 ‚îÇ
‚îÇ       - –£—á–µ—Å—Ç—å –¥–µ–≥—Ä–∞–¥–∞—Ü–∏—é –ø–æ–¥–∂–µ–ª—É–¥–æ—á–Ω–æ–π                  ‚îÇ
‚îÇ       - –£—á–µ—Å—Ç—å Exercise —ç—Ñ—Ñ–µ–∫—Ç                           ‚îÇ
‚îÇ       - Muscles –∑–∞–±–∏—Ä–∞—é—Ç –≥–ª—é–∫–æ–∑—É –∏–∑ BG                   ‚îÇ
‚îÇ                                                          ‚îÇ
‚îÇ    c. KIDNEY                                             ‚îÇ
‚îÇ       - –ï—Å–ª–∏ BG > threshold, –∑–∞–±—Ä–∞—Ç—å –≤ kidney            ‚îÇ
‚îÇ       - –ü–µ—Ä–∏–æ–¥–∏—á–µ—Å–∫–∏ —Å–±—Ä–∞—Å—ã–≤–∞—Ç—å –∏–∑ kidney                ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
                          ‚îÇ
                          ‚ñº
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ 5. INTERVENTION COOLDOWNS                                ‚îÇ
‚îÇ    - –£–º–µ–Ω—å—à–∏—Ç—å cooldownTicks                             ‚îÇ
‚îÇ    - –£–º–µ–Ω—å—à–∏—Ç—å activeDurationTicks                       ‚îÇ
‚îÇ    - –î–µ–∞–∫—Ç–∏–≤–∏—Ä–æ–≤–∞—Ç—å –µ—Å–ª–∏ duration = 0                    ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
                          ‚îÇ
                          ‚ñº
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ 6. RECORD HISTORY                                        ‚îÇ
‚îÇ    - bgHistory.push(bg.level)                            ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
                          ‚îÇ
                          ‚ñº
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ 7. INCREMENT TIME                                        ‚îÇ
‚îÇ    - currentTick++                                       ‚îÇ
‚îÇ    - Update segment if needed                            ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
                          ‚îÇ
                          ‚ñº
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ                       TICK END                           ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
```

---

## –û—Ä–≥–∞–Ω—ã –∏ –∏—Ö –ª–æ–≥–∏–∫–∞

### Liver (–ü–µ—á–µ–Ω—å)

**–†–æ–ª—å:** –ë—É—Ñ–µ—Ä –≥–ª—é–∫–æ–∑—ã, —Å–≥–ª–∞–∂–∏–≤–∞–µ—Ç –ø–æ—Å—Ç—É–ø–ª–µ–Ω–∏–µ –≤ –∫—Ä–æ–≤—å

**Rates:** `[0, 150, 75]` ‚Äî tier 0: stop, tier 1: normal 150/h, tier 2: reduced 75/h

**Rules (v0.18.1):**
| Priority | ID | Condition | Tier | Rate |
|----------|---|-----------|------|------|
| 1 | liver_boost_active | Liver Boost active | 2 | 75/h (max transfer) |
| 2 | bg_critical_stop | BG ‚â• 300 | 0 | 0 (stop) |
| 3 | bg_high_reduce | BG ‚â• 250 | 2 | 75/h (reduced) |
| 4 | bg_low_release | BG ‚â§ 100 | 1 | 150/h (normal) |
| 5 | default_normal | Default | 1 | 150/h |

**PassThrough mode:** –∫–æ–≥–¥–∞ liver ‚â•95% AND –∫–æ—Ä–∞–±–ª—å —Ä–∞–∑–≥—Ä—É–∂–∞–µ—Ç—Å—è ‚Üí output = input rate (–æ–±—Ö–æ–¥–∏—Ç –ø—Ä–∞–≤–∏–ª–∞)

**–î–µ–≥—Ä–∞–¥–∞—Ü–∏—è –≤–ª–∏—è–µ—Ç –Ω–∞:** –£–º–µ–Ω—å—à–µ–Ω–∏–µ capacity (tier 1-5: 100/90/80/70/60)

### BG Container (–ö—Ä–æ–≤—å)

**–†–æ–ª—å:** –¶–µ–Ω—Ç—Ä–∞–ª—å–Ω—ã–π –ø–∞—Ä–∞–º–µ—Ç—Ä, –æ—Ç—Ä–∞–∂–∞–µ—Ç —É—Ä–æ–≤–µ–Ω—å —Å–∞—Ö–∞—Ä–∞

```typescript
interface BGConfig {
  capacity: number;           // 400 (—Ç–µ–æ—Ä–µ—Ç–∏—á–µ—Å–∫–∏–π –º–∞–∫—Å–∏–º—É–º)
  initialLevel: number;       // 100
  thresholds: {
    low: number;              // 70  ‚Äî –≥–∏–ø–æ–≥–ª–∏–∫–µ–º–∏—è
    target: number;           // 100 ‚Äî –Ω–æ—Ä–º–∞
    high: number;             // 200 ‚Äî –≥–∏–ø–µ—Ä–≥–ª–∏–∫–µ–º–∏—è
    critical: number;         // 300 ‚Äî –∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏–π
  };
}
```

### Pancreas + Muscles (–ü–æ–¥–∂–µ–ª—É–¥–æ—á–Ω–∞—è + –ú—ã—à—Ü—ã)

**–†–æ–ª—å:** Pancreas –æ–ø—Ä–µ–¥–µ–ª—è–µ—Ç tier –∏–Ω—Å—É–ª–∏–Ω–∞ –ø–æ BG, –ø–µ—Ä–µ–¥–∞—ë—Ç Muscles. Muscles —É—Ç–∏–ª–∏–∑–∏—Ä—É—é—Ç –≥–ª—é–∫–æ–∑—É.

**Pancreas Rules (v0.18.0 ‚Äî gradual response):**
| Priority | ID | Condition | Pancreas Tier | Muscle Drain |
|----------|---|-----------|---------------|-------------|
| 1 | bg_critical | BG ‚â• 300 | 4 | 150/h |
| 2 | bg_very_high | BG ‚â• 200 | 3 | 125/h |
| 3 | bg_high | BG ‚â• 150 | 2 | 100/h |
| 4 | bg_low | BG ‚â§ 80 | 0 | 0 |
| 5 | default_basal | Default | 1 | 50/h |

**Muscle Drain Rates:** `[0, 25, 50, 85, 120, 150, 175]` (tiers 0-6)

**Modifiers applied after base tier:**
- **Fast Insulin** (+1 tier, ignores degradation, enables tier 6 = 175/h)
- **Exercise** (+1 tier, only if `baseTier ‚â• 1` ‚Äî prevents hypoglycemia) (v0.18.1)
- **Intense Exercise** (+1 tier permanent, only if `baseTier ‚â• 1`) (v0.18.1)

**–î–µ–≥—Ä–∞–¥–∞—Ü–∏—è –≤–ª–∏—è–µ—Ç –Ω–∞:** –£–º–µ–Ω—å—à–µ–Ω–∏–µ maxTier –ø–æ–¥–∂–µ–ª—É–¥–æ—á–Ω–æ–π (tier 1-5: max 5/4/3/2/1)

**Exercise fix (v0.18.1):** `minBaseTier: 1` ‚Äî exercise modifiers only apply when pancreas has already activated muscles (baseTier > 0). This prevents BG dropping below 70 due to exercise when pancreas tier is 0.

### Kidney (–ü–æ—á–∫–∏)

**–†–æ–ª—å:** –ê–≤–∞—Ä–∏–π–Ω—ã–π —Å–±—Ä–æ—Å –ø—Ä–∏ –≤—ã—Å–æ–∫–æ–º —Å–∞—Ö–∞—Ä–µ

```typescript
interface KidneyConfig {
  capacity: number;           // 60
  intakeRates: number[];      // [0, 30, 50]
  excreteInterval: number;    // 3 (–∫–∞–∂–¥—ã–µ 3 —Ç–∏–∫–∞)
  excreteAmount: number;      // 30% –æ—Ç kidney level

  rules: [
    {
      condition: { container: 'bg', op: 'gte', value: 250 },
      action: { type: 'intake', rateTier: 1 }
    },
    {
      condition: { container: 'kidney', op: 'gte', value: 30 },  // 50%
      action: { type: 'excrete', amount: '30%' }
    }
  ];
}
```

> **–ü—Ä–∏–º–µ—á–∞–Ω–∏–µ:** Kidney –Ω–∞ –¥–∞–Ω–Ω–æ–º —ç—Ç–∞–ø–µ –Ω–µ —Ä–µ–∞–ª–∏–∑—É–µ–º. –°–µ–∫—Ü–∏—è –æ—Å—Ç–∞–≤–ª–µ–Ω–∞ –¥–ª—è —Å–ø—Ä–∞–≤–∫–∏.

---

## Effect Containers

### Metformin Effect

```typescript
interface MetforminEffectConfig {
  capacity: number;           // 120
  decayRate: number;          // 7 units/hour (~17 —á–∞—Å–æ–≤ –¥–æ 0)

  thresholds: [
    { level: 20, effect: { suppressDegradationTiers: 1 } },
    { level: 40, effect: { suppressDegradationTiers: 2 } },
    { level: 60, effect: { suppressDegradationTiers: 3 } },
    { level: 80, effect: { suppressDegradationTiers: 4 } },
    { level: 100, effect: { suppressDegradationTiers: 5 } },
  ];
}
```

### Exercise Effect

```typescript
interface ExerciseEffectConfig {
  capacity: number;           // 100
  decayRate: number;          // 50 units/hour (~2 —á–∞—Å–∞)

  // Modifier: +1 tier when exerciseEffect > 50 AND baseTier >= 1
  thresholds: [
    { level: 50, effect: { muscleRateTierBonus: 1 } },
  ];
}
```

### Intense Exercise Effect (v0.17.0)

```typescript
interface IntenseExerciseEffectConfig {
  capacity: number;           // 100
  decayRate: number;          // 0 (permanent ‚Äî no decay)

  // Modifier: +1 tier when intenseExerciseEffect > 0 AND baseTier >= 1
  thresholds: [
    { level: 0, effect: { muscleRateTierBonus: 1 } },
  ];
}
```

> **Note:** intense_exercise provides a permanent +1 tier boost from the moment it loads until end of day (decayRate = 0).

---

## –í–º–µ—à–∞—Ç–µ–ª—å—Å—Ç–≤–æ –∏–≥—Ä–æ–∫–∞

### Liver Boost

**–î–µ–π—Å—Ç–≤–∏–µ:** –£—Å–∫–æ—Ä–µ–Ω–Ω—ã–π —Å–±—Ä–æ—Å –≥–ª—é–∫–æ–∑—ã –∏–∑ –ø–µ—á–µ–Ω–∏ –≤ BG

```typescript
interface LiverBoostConfig {
  maxCharges: number;         // 3
  cooldownTicks: number;      // 3
  duration: number;           // 1 —Ç–∏–∫
  rateTier: number;           // 2 (—É—Å–∫–æ—Ä–µ–Ω–Ω—ã–π)
}
```

**UX:**
1. –ù–∞–∂–∞—Ç–∏–µ –Ω–∞ –∫–Ω–æ–ø–∫—É/–ø–µ—á–µ–Ω—å
2. –ê–Ω–∏–º–∞—Ü–∏—è "—Ä—ã—á–∞–≥–∞"
3. –£—Å–∫–æ—Ä–µ–Ω–Ω—ã–π –ø–æ—Ç–æ–∫ –≥–ª—é–∫–æ–∑—ã
4. –ö—É–ª–¥–∞—É–Ω –Ω–∞—á–∏–Ω–∞–µ—Ç—Å—è

### Pancreas Boost

**–î–µ–π—Å—Ç–≤–∏–µ:** –£—Å–∫–æ—Ä–µ–Ω–Ω–∞—è —Ä–∞–±–æ—Ç–∞ –º—ã—à—Ü

```typescript
interface PancreasBoostConfig {
  maxCharges: number;         // 2
  cooldownTicks: number;      // 3
  duration: number;           // 2 —Ç–∏–∫–∞
  tierBonus: number;          // +2
}
```

---

## Game Loop (React)

```typescript
// hooks/useGameLoop.ts
function useGameLoop(engine: SimulationEngine | null) {
  const { speed, isPaused, updateSimulation, endSimulation } = useGameStore();

  useEffect(() => {
    if (!engine || isPaused) return;

    const tickDuration = 1000 / speed;  // 1000ms at 1x, 500ms at 2x, 250ms at 4x

    const interval = setInterval(() => {
      if (engine.isComplete()) {
        endSimulation();
        return;
      }

      const newState = engine.tick();
      updateSimulation(newState);
    }, tickDuration);

    return () => clearInterval(interval);
  }, [engine, speed, isPaused]);
}
```

---

## –í–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏—è

### Container View

```
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ                 ‚îÇ  ‚óÑ‚îÄ‚îÄ capacity (100%)
‚îÇ                 ‚îÇ
‚îÇ‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚îÇ  ‚óÑ‚îÄ‚îÄ current level
‚îÇ‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚îÇ
‚îÇ‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚îÇ
‚îÇ‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
      45/100

–¶–≤–µ—Ç–∞:
- –°–∏–Ω–∏–π: –Ω–æ—Ä–º–∞–ª—å–Ω—ã–π —É—Ä–æ–≤–µ–Ω—å
- –û—Ä–∞–Ω–∂–µ–≤—ã–π: –ø—Ä–∏–±–ª–∏–∂–∞–µ—Ç—Å—è –∫ –ø–µ—Ä–µ–ø–æ–ª–Ω–µ–Ω–∏—é
- –ö—Ä–∞—Å–Ω—ã–π: –ø–µ—Ä–µ–ø–æ–ª–Ω–µ–Ω–∏–µ
```

### BG Container (—Ü–µ–Ω—Ç—Ä–∞–ª—å–Ω—ã–π)

```
     ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
     ‚îÇ    300 ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÇ‚îÄ‚îÄ critical (red zone)
     ‚îÇ                 ‚îÇ
     ‚îÇ    200 ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÇ‚îÄ‚îÄ high (orange zone)
     ‚îÇ                 ‚îÇ
     ‚îÇ    ‚ñà‚ñà‚ñà 147 ‚îÄ‚îÄ‚îÄ‚îÄ‚îÇ‚îÄ‚îÄ current (indicator)
     ‚îÇ    ‚ñà‚ñà‚ñà         ‚îÇ
     ‚îÇ    100 ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÇ‚îÄ‚îÄ target (green zone)
     ‚îÇ                 ‚îÇ
     ‚îÇ    70  ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÇ‚îÄ‚îÄ low (yellow zone)
     ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
```

### SVG Pipe System (v0.21.0-v0.21.23)

–í–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏—è –ø–æ—Ç–æ–∫–æ–≤ –≥–ª—é–∫–æ–∑—ã —á–µ—Ä–µ–∑ SVG-—Ç—Ä—É–±—ã –≤–º–µ—Å—Ç–æ —á–∞—Å—Ç–∏—Ü.

**–ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞:**
- `PipeSystem.tsx` ‚Äî SVG overlay (`viewBox="0 0 100 100"`, `preserveAspectRatio="none"`)
- `PipeSystem.css` ‚Äî —Å—Ç–∏–ª–∏ —Ç—Ä—É–± —Å `vector-effect: non-scaling-stroke`
- –ö–æ–æ—Ä–¥–∏–Ω–∞—Ç—ã –≤ –ø—Ä–æ—Ü–µ–Ω—Ç–∞—Ö –æ—Ç body-diagram –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞

**–ú–∞—Ä—à—Ä—É—Ç—ã —Ç—Ä—É–±:**
```
Ship Slot 0 ‚Üí Liver:  M 18,73 L 18,47          (vertical)
Ship Slot 1 ‚Üí Liver:  M 50,73 ... Q curves ... L 23,47  (rounded bends, r‚âà3 SVG units)
Ship Slot 2 ‚Üí Liver:  M 82,73 ... Q curves ... L 28,47  (rounded bends, r‚âà3 SVG units)
Liver ‚Üí BG (normal):  M 35,40 L 47,40
Liver ‚Üí BG (passthrough): M 35,37 L 47,37       (wider pipe)
BG ‚Üí Kidneys:         M 47,15 L 33,15
BG ‚Üí Muscles:         M 63,15 L 78,15
Pancreas ‚Üí Muscles:   M 82.5,39 L 82.5,18       (insulin, orange)
```

**–†–∞–∑–º–µ—Ä—ã (–ø–∏–∫—Å–µ–ª–∏, non-scaling-stroke):**
| Pipe | Wall | Fill |
|------|------|------|
| Normal | 12px | 8px |
| Passthrough | 20px | 16px |

**–ò–Ω–¥–∏–∫–∞—Ç–æ—Ä—ã –ø–æ—Ç–æ–∫–∞ (v0.21.17):**
- V-–æ–±—Ä–∞–∑–Ω—ã–µ —à–µ–≤—Ä–æ–Ω—ã `>` (polyline `points="-0.3,-0.7 0.3,0 -0.3,0.7"`), 3 —à—Ç—É–∫–∏ –Ω–∞ —Ç—Ä—É–±—É
- CSS `offset-path` + `offset-distance` –∞–Ω–∏–º–∞—Ü–∏—è
- –°–∫–æ—Ä–æ—Å—Ç—å: `rateToDuration(rate)` ‚Äî –≤—ã—à–µ rate ‚Üí –±—ã—Å—Ç—Ä–µ–µ –∞–Ω–∏–º–∞—Ü–∏—è
- –°–∫—Ä—É–≥–ª—ë–Ω–Ω—ã–µ –∏–∑–≥–∏–±—ã —Ç—Ä—É–± (quadratic B√©zier, v0.21.23)

**Suction VFX (v0.21.18):**
- 10 —á–∞—Å—Ç–∏—Ü-–≤–æ—Ä–æ–Ω–∫–∞ —É –≤—Ö–æ–¥–∞ –∞–∫—Ç–∏–≤–Ω–æ–π ship-—Ç—Ä—É–±—ã
- CSS `translate(var(--sx), var(--sy)) ‚Üí scale(0.2)` –∞–Ω–∏–º–∞—Ü–∏—è
- –°—Ç–∞–≥–µ—Ä–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ –∑–∞–¥–µ—Ä–∂–∫–∏ –¥–ª—è —Ö–∞–æ—Ç–∏—á–Ω–æ–≥–æ –≤–∏–¥–∞

**Z-index layering:**
```
z-index: 1  ‚Äî pipe-system (SVG overlay)
z-index: 2  ‚Äî kidney/liver containers (KC/LC)
z-index: 3  ‚Äî organ backdrops (kidneys, muscles, liver, pancreas icons)
z-index: 10 ‚Äî BG container
```

### Container Fill Patterns (v0.21.25-v0.21.30)

–ü–∞—Ç—Ç–µ—Ä–Ω—ã –≤–Ω—É—Ç—Ä–∏ –∑–∞–ª–∏–≤–∫–∏ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–æ–≤, –ø–æ–∫–∞–∑—ã–≤–∞—é—â–∏–µ –Ω–∞–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø–æ—Ç–æ–∫–∞.

**–ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞:**
- CSS `::before` pseudo-element –Ω–∞ `.container-view__fill`
- SVG `background-image` data URL —Ç–∞–π–ª (80√ó120px)
- 7 —ç–ª–µ–º–µ–Ω—Ç–æ–≤ –Ω–∞ –ø—Å–µ–≤–¥–æ-—Å–ª—É—á–∞–π–Ω—ã—Ö –ø–æ–∑–∏—Ü–∏—è—Ö (white, stroke-width 2.25, opacity 0.2)

**–¢—Ä–∏ —Å–æ—Å—Ç–æ—è–Ω–∏—è:**
| –ö–ª–∞—Å—Å | –≠–ª–µ–º–µ–Ω—Ç | –ê–Ω–∏–º–∞—Ü–∏—è | –ö–æ–≥–¥–∞ |
|-------|---------|----------|-------|
| `--flow-up` | `^` —à–µ–≤—Ä–æ–Ω—ã | –°–∫—Ä–æ–ª–ª –≤–≤–µ—Ä—Ö 120px/4s | –ö–æ–Ω—Ç–µ–π–Ω–µ—Ä –Ω–∞–ø–æ–ª–Ω—è–µ—Ç—Å—è |
| `--flow-down` | `v` —à–µ–≤—Ä–æ–Ω—ã | –°–∫—Ä–æ–ª–ª –≤–Ω–∏–∑ 120px/4s | –ö–æ–Ω—Ç–µ–π–Ω–µ—Ä –æ–ø—É—Å—Ç–æ—à–∞–µ—Ç—Å—è |
| `--flow-static` | `‚Äî` —á—ë—Ä—Ç–æ—á–∫–∏ | –ù–µ—Ç | –ù–µ—Ç –Ω–µ—Ç—Ç–æ-–ø–æ—Ç–æ–∫–∞ (¬±1 –ø–æ—Ä–æ–≥) |

**–í—ã—á–∏—Å–ª–µ–Ω–∏–µ –Ω–∞–ø—Ä–∞–≤–ª–µ–Ω–∏—è (BodyDiagram.tsx):**
- –ò—Å–ø–æ–ª—å–∑—É–µ—Ç **—Å—ã—Ä—ã–µ** engine rate (–Ω–µ –∏–Ω—Ç–µ—Ä–ø–æ–ª–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ ‚Äî —É–±—Ä–∞–Ω–∞ –∑–∞–¥–µ—Ä–∂–∫–∞ ~90–º—Å)
- BG: `bgNetRate = currentLiverRate - currentMuscleRate - rawKidneyRate`
  - > 1 ‚Üí up, < -1 ‚Üí down, –∏–Ω–∞—á–µ static
- Liver: `currentLiverRate > 0` ‚Üí down, –∏–Ω–∞—á–µ static
- Kidneys: `rawKidneyRate > 0` ‚Üí up, –∏–Ω–∞—á–µ static

### BG Floating Value (v0.21.22)

**–ò–Ω–¥–∏–∫–∞—Ç–æ—Ä –∑–Ω–∞—á–µ–Ω–∏—è BG** ‚Äî –±–µ–π–¥–∂ –ø–æ–≤–µ—Ä—Ö –∑–∞–ª–∏–≤–∫–∏ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞.

| –î–∏–∞–ø–∞–∑–æ–Ω | –§–æ–Ω | –≠—Ñ—Ñ–µ–∫—Ç |
|----------|-----|--------|
| 70-200 | #2d3748 (—Ç—ë–º–Ω—ã–π) | ‚Äî |
| < 70 | #ecc94b (–∂—ë–ª—Ç—ã–π) | ‚Äî |
| 200-300 | #ed8936 (–æ—Ä–∞–Ω–∂–µ–≤—ã–π) | ‚Äî |
| ‚â• 300 | #e53e3e (–∫—Ä–∞—Å–Ω—ã–π) | –ú–∏–≥–∞–Ω–∏–µ —á–µ—Ä–µ–∑ –±–µ–ª—ã–π (0.5s) |

### Ship Unloading Animation

```
–ö–æ—Ä–∞–±–ª—å –≤ —Å–ª–æ—Ç–µ:
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ  ü•£     ‚îÇ
‚îÇ ‚ñì‚ñì‚ñì‚ñë‚ñë‚ñë‚ñë ‚îÇ  ‚óÑ‚îÄ‚îÄ progress bar
‚îÇ  2/3h   ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò

–ü–æ—Ç–æ–∫ –∫ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä—É:
Ship ‚ïê‚ïê‚ïê‚ñ∂‚ïê‚ïê‚ïê‚ñ∂‚ïê‚ïê‚ïê‚ñ∂ [Liver]  (pipe with chevron flow)
```

---

## Speed Controls

| Speed | Tick Duration | Real time for 18h |
|-------|---------------|-------------------|
| 1x    | 1000ms        | 18 —Å–µ–∫—É–Ω–¥         |
| 2x    | 500ms         | 9 —Å–µ–∫—É–Ω–¥          |
| 4x    | 250ms         | 4.5 —Å–µ–∫—É–Ω–¥—ã       |

–ö–Ω–æ–ø–∫–∞ –ø–∞—É–∑—ã –æ—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç interval, —Å–æ—Å—Ç–æ—è–Ω–∏–µ —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç—Å—è.

---

## –ö–æ–º–ø–æ–Ω–µ–Ω—Ç—ã

### SimulationPhase.tsx
- –û—Å–Ω–æ–≤–Ω–æ–π –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä
- useGameLoop hook
- Layout

### SimulationHeader.tsx
- –í—Ä–µ–º—è (Hour: 09:00)
- –ü—Ä–æ–≥—Ä–µ—Å—Å (Morning ‚ñà‚ñà‚ñà‚ñà‚ñë‚ñë‚ñë‚ñë‚ñë)
- Speed controls

### BodyDiagram.tsx
- Absolute-positioned organs layout (corner organs, center BG)
- K (top-left), M (top-right), L (bottom-left), P (bottom-right)
- BG pill-shaped container centered, full height
- KC/LC containers half-hidden behind organ substrates

### PipeSystem.tsx (v0.21.0-v0.21.23)
- SVG overlay —Å —Ç—Ä—É–±–∞–º–∏ –º–µ–∂–¥—É –æ—Ä–≥–∞–Ω–∞–º–∏
- Chevron flow indicators (v0.21.17), rounded bends (v0.21.23)
- Suction VFX at active ship pipe intake (v0.21.18)
- Props: activeShipSlot, liverToBgRate, bgToMusclesRate, bgToKidneysRate, pancreasTier, speed, isPaused, isLiverPassthrough

### ContainerView.tsx
- –í–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏—è —É—Ä–æ–≤–Ω—è –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞ (fill bar)
- Fill pattern overlay: —à–µ–≤—Ä–æ–Ω—ã (up/down) –∏–ª–∏ —á—ë—Ä—Ç–æ—á–∫–∏ (static) ‚Äî v0.21.25+
- Floating BG value badge (v0.21.22)
- Props: flowDirection ('up' | 'down' | undefined), floatingValue, thresholds

### OrganView.tsx
- –ò–∫–æ–Ω–∫–∞ –æ—Ä–≥–∞–Ω–∞
- –ò–Ω–¥–∏–∫–∞—Ç–æ—Ä —Å–æ—Å—Ç–æ—è–Ω–∏—è/–¥–µ–≥—Ä–∞–¥–∞—Ü–∏–∏

### ShipQueue.tsx
- –¢–µ–∫—É—â–∏–π —Å–µ–≥–º–µ–Ω—Ç
- –ö–æ—Ä–∞–±–ª–∏ –≤ —Ä—è–¥–∞—Ö
- Progress bar —Ä–∞–∑–≥—Ä—É–∑–∫–∏

### BoostButton.tsx
- –ö–Ω–æ–ø–∫–∏ boost (Fast Insulin)
- Numeric charge count badge (top-right corner)
- Cooldown bar and timer

---

## –†–µ—à—ë–Ω–Ω—ã–µ –≤–æ–ø—Ä–æ—Å—ã

1. ~~**–í–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏—è –ø–æ—Ç–æ–∫–∞ –≥–ª—é–∫–æ–∑—ã**~~ ‚Üí **–ê–Ω–∏–º–∞—Ü–∏—è –ø–æ—Ç–æ–∫–∞** (—á–∞—Å—Ç–∏—Ü—ã/–ª–∏–Ω–∏–∏ –º–µ–∂–¥—É –æ—Ä–≥–∞–Ω–∞–º–∏, –≤ polish slice)

2. ~~**–ü–∞—Ä–∞–ª–ª–µ–ª—å–Ω–∞—è —Ä–∞–∑–≥—Ä—É–∑–∫–∞**~~ ‚Üí **–ü–æ –æ—á–µ—Ä–µ–¥–∏** (—Å–ª–µ–≤–∞ –Ω–∞–ø—Ä–∞–≤–æ, –æ–¥–∏–Ω –∫–æ—Ä–∞–±–ª—å –∑–∞ –¥—Ä—É–≥–∏–º –≤ —Ä—è–¥—É)

3. ~~**Skip to end**~~ ‚Üí **–ù–µ—Ç**, —Ç–æ–ª—å–∫–æ —É—Å–∫–æ—Ä–µ–Ω–∏–µ 1x/2x/4x

4. **Replay**: –ú–æ–∂–Ω–æ –ª–∏ –ø–µ—Ä–µ–º–æ—Ç–∞—Ç—å –Ω–∞–∑–∞–¥? ‚Üí –ù–µ –¥–ª—è –ø—Ä–æ—Ç–æ—Ç–∏–ø–∞

---

## –†–µ—à—ë–Ω–Ω—ã–µ –≤–æ–ø—Ä–æ—Å—ã (–¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–æ)

### –ö–Ω–æ–ø–∫–∏ Boost (Liver/Pancreas)

1. ~~**–ú–µ—Ö–∞–Ω–∏–∫–∞ –∑–∞—Ä—è–¥–æ–≤ –∏ cooldown**~~ ‚Üí **–†–µ—à–µ–Ω–æ:**
   - –ó–∞—Ä—è–¥—ã —Ä–∞—Å—Ö–æ–¥—É—é—Ç—Å—è –ø—Ä–∏ –Ω–∞–∂–∞—Ç–∏–∏
   - –ü–æ—Å–ª–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è ‚Äî cooldown –ø–µ—Ä–µ–¥ —Å–ª–µ–¥—É—é—â–∏–º –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º
   - Cooldown: Liver Boost = 1 —á–∞—Å, Pancreas Boost = 3 —á–∞—Å–∞

2. ~~**–≠—Ñ—Ñ–µ–∫—Ç Liver Boost**~~ ‚Üí **–†–µ—à–µ–Ω–æ:**
   - –í—Ä–µ–º–µ–Ω–Ω–æ –ø–µ—Ä–µ–∫–ª—é—á–∞–µ—Ç —Å–∫–æ—Ä–æ—Å—Ç—å –≤—ã–±—Ä–æ—Å–∫–∏ –≥–ª—é–∫–æ–∑—ã –∏–∑ Liver –≤ BG –Ω–∞ Tier 2

3. ~~**–≠—Ñ—Ñ–µ–∫—Ç Pancreas Boost**~~ ‚Üí **–†–µ—à–µ–Ω–æ:**
   - –í—Ä–µ–º–µ–Ω–Ω–æ –ø–µ—Ä–µ–∫–ª—é—á–∞–µ—Ç —Å–∫–æ—Ä–æ—Å—Ç—å muscle drain –Ω–∞ 1 —Ç–∏—Ä –≤—ã—à–µ
   - –î–ª–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å —ç—Ñ—Ñ–µ–∫—Ç–∞: 1 —á–∞—Å (–∫–∞–∫ –≤—Ä–µ–º—è —Ä–∞–∑–≥—Ä—É–∑–∫–∏ –º–∞–ª–æ–≥–æ –∫–æ—Ä–∞–±–ª—è)

### –í–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏—è —Å–∏–º—É–ª—è—Ü–∏–∏

4. ~~**–¢–µ–∫—É—â–∏–π –∫–æ—Ä–∞–±–ª—å**~~ ‚Üí **–û—Å—Ç–∞—ë—Ç—Å—è –≤ —Å–µ—Ç–∫–µ —Å–ª–æ—Ç–æ–≤** —Å –∏–Ω–¥–∏–∫–∞—Ç–æ—Ä–æ–º —Ä–∞–∑–≥—Ä—É–∑–∫–∏

5. ~~**Effect containers (Metformin/Exercise)**~~ ‚Üí **–†–∞–±–æ—Ç–∞—é—Ç "–ø–æ–¥ –∫–∞–ø–æ—Ç–æ–º"** –±–µ–∑ –≤–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏–∏ (–Ω–∞ –¥–∞–Ω–Ω–æ–º —ç—Ç–∞–ø–µ)

6. ~~**Degradation containers**~~ ‚Üí **–ü–æ–∫–∞–∑—ã–≤–∞–µ–º** —Å—Ç–µ–ø–µ–Ω—å –¥–µ–≥—Ä–∞–¥–∞—Ü–∏–∏ –æ—Ä–≥–∞–Ω–æ–≤ –≤–æ –≤—Ä–µ–º—è —Å–∏–º—É–ª—è—Ü–∏–∏

### Timing

7. ~~**–ü–æ—Ä—è–¥–æ–∫ –æ–ø–µ—Ä–∞—Ü–∏–π –≤ —Ç–∏–∫–µ**~~ ‚Üí **–í—Å—ë –ø–∞—Ä–∞–ª–ª–µ–ª—å–Ω–æ** (—Ä–∞–∑–≥—Ä—É–∑–∫–∞ –∏ –ø—Ä–∞–≤–∏–ª–∞ –≤—ã–ø–æ–ª–Ω—è—é—Ç—Å—è –æ–¥–Ω–æ–≤—Ä–µ–º–µ–Ω–Ω–æ)

---

## TODO

- [ ] –£—Ç–æ—á–Ω–∏—Ç—å —Ñ–æ—Ä–º—É–ª—ã rate tiers
- [ ] –û–ø—Ä–µ–¥–µ–ª–∏—Ç—å exact timing –ø—Ä–∞–≤–∏–ª
- [ ] –ê–Ω–∏–º–∞—Ü–∏–∏ –ø–µ—Ä–µ—Ö–æ–¥–æ–≤
- [ ] –ó–≤—É–∫–∏ —Å–æ–±—ã—Ç–∏–π
