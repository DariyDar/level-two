{
  "version": "1.0.0",
  "liver": {
    "organ": "liver",
    "description": "Liver glucose transfer rules - controls glucose release from liver buffer to bloodstream",
    "rules": [
      {
        "id": "liver_boost_active",
        "description": "Liver boost forces maximum transfer rate",
        "priority": 1,
        "condition": {
          "type": "boost",
          "boost": "liverBoost",
          "state": "active"
        },
        "action": {
          "type": "setTier",
          "tier": 2
        }
      },
      {
        "id": "liver_overflow",
        "description": "Emergency dump when liver is nearly full",
        "priority": 2,
        "condition": {
          "type": "container",
          "container": "liver",
          "operator": ">=",
          "value": 0.9,
          "relative": "capacity"
        },
        "action": {
          "type": "setTier",
          "tier": 2
        }
      },
      {
        "id": "bg_high_stop",
        "description": "Stop release when blood glucose is high",
        "priority": 3,
        "condition": {
          "type": "container",
          "container": "bg",
          "operator": ">=",
          "value": 200
        },
        "action": {
          "type": "setTier",
          "tier": 0
        }
      },
      {
        "id": "bg_low_release",
        "description": "Release glucose when blood glucose is low",
        "priority": 4,
        "condition": {
          "type": "container",
          "container": "bg",
          "operator": "<=",
          "value": 100
        },
        "action": {
          "type": "setTier",
          "tier": 1
        }
      },
      {
        "id": "default_normal",
        "description": "Default: normal release rate",
        "priority": 5,
        "condition": {
          "type": "default"
        },
        "action": {
          "type": "setTier",
          "tier": 1
        }
      }
    ],
    "modifiers": [],
    "rates": [0, 50, 75],
    "minTier": 0,
    "maxTier": 2
  },
  "pancreas": {
    "organ": "pancreas",
    "description": "Pancreas insulin regulation - controls muscle glucose utilization by monitoring blood glucose",
    "rules": [
      {
        "id": "bg_high_reaction",
        "description": "High BG - Activate muscles at Tier 3",
        "priority": 1,
        "condition": {
          "type": "container",
          "container": "bg",
          "operator": ">=",
          "value": 150
        },
        "action": {
          "type": "setTier",
          "tier": 3
        }
      },
      {
        "id": "bg_low_reaction",
        "description": "Low BG - Disable muscle drain",
        "priority": 2,
        "condition": {
          "type": "container",
          "container": "bg",
          "operator": "<=",
          "value": 70
        },
        "action": {
          "type": "setTier",
          "tier": 0
        }
      },
      {
        "id": "default_no_drain",
        "description": "Default - No muscle activation",
        "priority": 3,
        "condition": {
          "type": "default"
        },
        "action": {
          "type": "setTier",
          "tier": 0
        }
      }
    ],
    "modifiers": [
      {
        "id": "pancreas_boost",
        "description": "Manual pancreas boost increases tier",
        "type": "boost",
        "condition": {
          "type": "boost",
          "boost": "pancreasBoost",
          "state": "active"
        },
        "effect": {
          "type": "addTier",
          "amount": 1
        }
      }
    ],
    "rates": [0, 1, 2, 3, 4, 5],
    "minTier": 0,
    "maxTier": 5
  },
  "muscles": {
    "organ": "muscles",
    "description": "Muscle glucose utilization - receives tier assignment from pancreas",
    "rules": [],
    "modifiers": [
      {
        "id": "degradation_penalty",
        "description": "Pancreas degradation reduces maximum drain tier",
        "type": "degradation",
        "condition": {
          "type": "degradation",
          "organ": "pancreas",
          "operator": ">",
          "value": 0
        },
        "effect": {
          "type": "subtractTier",
          "amount": 1
        }
      },
      {
        "id": "exercise_bonus",
        "description": "Exercise increases drain tier",
        "type": "effect",
        "condition": {
          "type": "effect",
          "container": "exerciseEffect",
          "operator": ">",
          "value": 50
        },
        "effect": {
          "type": "addTier",
          "amount": 1
        }
      },
      {
        "id": "pancreas_boost",
        "description": "Pancreas boost increases drain tier",
        "type": "boost",
        "condition": {
          "type": "boost",
          "boost": "pancreasBoost",
          "state": "active"
        },
        "effect": {
          "type": "addTier",
          "amount": 1
        }
      }
    ],
    "rates": [0, 30, 35, 40, 45, 50],
    "minTier": 0,
    "maxTier": 5
  }
}
