{
  "version": "1.0.0",
  "liver": {
    "organ": "liver",
    "description": "Liver glucose transfer rules - controls glucose release from liver buffer to bloodstream",
    "rules": [
      {
        "id": "liver_boost_active",
        "description": "Liver boost forces maximum transfer rate",
        "priority": 1,
        "condition": {
          "type": "boost",
          "boost": "liverBoost",
          "state": "active"
        },
        "action": {
          "type": "setTier",
          "tier": 2
        }
      },
      {
        "id": "bg_high_stop",
        "description": "Stop release when blood glucose is high",
        "priority": 2,
        "condition": {
          "type": "container",
          "container": "bg",
          "operator": ">=",
          "value": 200
        },
        "action": {
          "type": "setTier",
          "tier": 0
        }
      },
      {
        "id": "bg_low_release",
        "description": "Release glucose when blood glucose is low",
        "priority": 3,
        "condition": {
          "type": "container",
          "container": "bg",
          "operator": "<=",
          "value": 100
        },
        "action": {
          "type": "setTier",
          "tier": 1
        }
      },
      {
        "id": "default_normal",
        "description": "Default: normal release rate",
        "priority": 4,
        "condition": {
          "type": "default"
        },
        "action": {
          "type": "setTier",
          "tier": 1
        }
      }
    ],
    "modifiers": [],
    "rates": [0, 50, 75],
    "minTier": 0,
    "maxTier": 2
  },
  "pancreas": {
    "organ": "pancreas",
    "description": "Pancreas insulin regulation - controls muscle glucose utilization by monitoring blood glucose",
    "rules": [
      {
        "id": "bg_very_high_reaction",
        "description": "Very high BG (>=200) - Maximum insulin secretion at Tier 5",
        "priority": 1,
        "condition": {
          "type": "container",
          "container": "bg",
          "operator": ">=",
          "value": 200
        },
        "action": {
          "type": "setTier",
          "tier": 5
        }
      },
      {
        "id": "bg_high_reaction",
        "description": "High BG (>=150) - Strong insulin secretion at Tier 4",
        "priority": 2,
        "condition": {
          "type": "container",
          "container": "bg",
          "operator": ">=",
          "value": 150
        },
        "action": {
          "type": "setTier",
          "tier": 4
        }
      },
      {
        "id": "bg_low_reaction",
        "description": "Low BG (<=70) - Disable insulin secretion",
        "priority": 3,
        "condition": {
          "type": "container",
          "container": "bg",
          "operator": "<=",
          "value": 70
        },
        "action": {
          "type": "setTier",
          "tier": 0
        }
      },
      {
        "id": "default_basal",
        "description": "Normal BG (70-150) - Basal insulin at Tier 1",
        "priority": 4,
        "condition": {
          "type": "default"
        },
        "action": {
          "type": "setTier",
          "tier": 1
        }
      }
    ],
    "modifiers": [
      {
        "id": "fast_insulin",
        "description": "Fast Insulin boost increases tier (ignores degradation)",
        "type": "boost",
        "condition": {
          "type": "boost",
          "boost": "pancreasBoost",
          "state": "active"
        },
        "effect": {
          "type": "addTier",
          "amount": 1
        },
        "ignoresDegradation": true
      }
    ],
    "rates": [0, 1, 2, 3, 4, 5],
    "minTier": 0,
    "maxTier": 5
  },
  "muscles": {
    "organ": "muscles",
    "description": "Muscle glucose utilization - receives tier assignment from pancreas",
    "rules": [],
    "modifiers": [
      {
        "id": "exercise_bonus",
        "description": "Exercise increases drain tier",
        "type": "effect",
        "condition": {
          "type": "effect",
          "container": "exerciseEffect",
          "operator": ">",
          "value": 50
        },
        "effect": {
          "type": "addTier",
          "amount": 1
        }
      },
      {
        "id": "fast_insulin",
        "description": "Fast Insulin increases drain tier (ignores degradation)",
        "type": "boost",
        "condition": {
          "type": "boost",
          "boost": "pancreasBoost",
          "state": "active"
        },
        "effect": {
          "type": "addTier",
          "amount": 1
        },
        "ignoresDegradation": true
      }
    ],
    "rates": [0, 35, 40, 45, 50, 55, 60],
    "minTier": 0,
    "maxTier": 5,
    "boostedMaxTier": 6
  }
}
